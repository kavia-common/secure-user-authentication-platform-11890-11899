{"is_source_file": true, "format": "Python", "description": "FastAPI routes for user profile management, including retrieval, update, deletion, and session handling.", "external_files": ["src/models/auth_models", "src/services/supabase_service", "src/services/session_service", "src.middleware.auth_middleware"], "external_methods": ["get_current_2fa_user", "session_service.get_session_info", "session_service.revoke_all_user_sessions", "session_service.active_sessions", "supabase_service.update_user"], "published": ["/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/user.py"], "classes": [], "methods": [{"name": "JSONResponse get_user_profile(current_user: Dict[str, Any] = Depends(get_current_2fa_user))", "description": "Handles GET request for retrieving current user's profile information.", "scope": "", "scopeKind": ""}, {"name": "JSONResponse update_user_profile( profile_data: UserProfileUpdateRequest, current_user: Dict[str, Any] = Depends(get_current_2fa_user) )", "description": "Handles PUT request for updating current user's profile data.", "scope": "", "scopeKind": ""}, {"name": "JSONResponse delete_user_account(current_user: Dict[str, Any] = Depends(get_current_2fa_user))", "description": "Handles DELETE request for deleting the current user's account.", "scope": "", "scopeKind": ""}, {"name": "JSONResponse get_user_sessions(current_user: Dict[str, Any] = Depends(get_current_2fa_user))", "description": "Handles GET request for listing all active sessions of the current user.", "scope": "", "scopeKind": ""}, {"name": "JSONResponse revoke_user_session( session_id: str, current_user: Dict[str, Any] = Depends(get_current_2fa_user) )", "description": "Handles DELETE request for revoking a specific user session.", "scope": "", "scopeKind": ""}], "calls": ["session_service.get_session_info", "supabase_service.update_user", "session_service.revoke_all_user_sessions", "session_service.revoke_session"], "search-terms": ["FastAPI user profile routes", "session management", "Supabase user update", "get_current_2fa_user dependency", "user account deletion endpoint"], "state": 2, "file_id": 18, "knowledge_revision": 60, "git_revision": "", "revision_history": [{"37": ""}, {"47": ""}, {"53": ""}, {"60": ""}], "ctags": [{"_type": "tag", "name": "delete_user_account", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/user.py", "pattern": "/^async def delete_user_account(current_user: Dict[str, Any] = Depends(get_current_2fa_user)) -> J/", "language": "Python", "typeref": "typename:JSONResponse", "kind": "function", "signature": "(current_user: Dict[str, Any] = Depends(get_current_2fa_user))"}, {"_type": "tag", "name": "get_user_profile", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/user.py", "pattern": "/^async def get_user_profile(current_user: Dict[str, Any] = Depends(get_current_2fa_user)) -> JSON/", "language": "Python", "typeref": "typename:JSONResponse", "kind": "function", "signature": "(current_user: Dict[str, Any] = Depends(get_current_2fa_user))"}, {"_type": "tag", "name": "get_user_sessions", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/user.py", "pattern": "/^async def get_user_sessions(current_user: Dict[str, Any] = Depends(get_current_2fa_user)) -> JSO/", "language": "Python", "typeref": "typename:JSONResponse", "kind": "function", "signature": "(current_user: Dict[str, Any] = Depends(get_current_2fa_user))"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/user.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "revoke_user_session", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/user.py", "pattern": "/^async def revoke_user_session($/", "language": "Python", "typeref": "typename:JSONResponse", "kind": "function", "signature": "( session_id: str, current_user: Dict[str, Any] = Depends(get_current_2fa_user) )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/user.py", "pattern": "/^router = APIRouter(prefix=\"\\/user\", tags=[\"User Profile\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_user_profile", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/user.py", "pattern": "/^async def update_user_profile($/", "language": "Python", "typeref": "typename:JSONResponse", "kind": "function", "signature": "( profile_data: UserProfileUpdateRequest, current_user: Dict[str, Any] = Depends(get_current_2fa_user) )"}], "hash": "3bb88852a231fdea71f933ad3de46f92", "format-version": 4, "code-base-name": "supabase_auth_backend", "filename": "supabase_auth_backend/src/api/routes/user.py", "fields": [{"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/user\", tags=[\"User Profile\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}
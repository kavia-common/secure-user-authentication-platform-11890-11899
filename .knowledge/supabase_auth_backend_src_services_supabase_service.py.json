{"is_source_file": true, "format": "Python", "description": "This source file defines a service class 'SupabaseService' that handles authentication-related operations using the Supabase client. It includes methods for signing up, signing in, retrieving user info by token, session management, password reset, user profile update, and email verification, among others.", "external_files": ["src/config/settings"], "external_methods": ["create_client", "settings.supabase_url", "settings.supabase_anon_key", "settings.supabase_service_role_key", "settings.site_url"], "published": ["supabase_service"], "classes": [{"name": "SupabaseService", "description": "A service class for handling user authentication operations with Supabase, including sign-up, sign-in, token management, user updates, and email verification."}], "methods": [{"name": "__init__(self)", "description": "Initializes the Supabase client and admin client using configuration settings.", "scope": "SupabaseService", "scopeKind": "class"}, {"name": "Tuple[bool,Dict[str,Any]] sign_up_user(self, email: str, password: str, user_metadata: Dict[str, Any])", "description": "Registers a new user with email, password, and user metadata via Supabase auth.", "scope": "SupabaseService", "scopeKind": "class"}, {"name": "Tuple[bool,Dict[str,Any]] sign_in_user(self, email: str, password: str)", "description": "Authenticates a user with email and password, returning user info and session.", "scope": "SupabaseService", "scopeKind": "class"}, {"name": "Tuple[bool,Dict[str,Any]] get_user_by_token(self, access_token: str)", "description": "Retrieves user information based on an access token.", "scope": "SupabaseService", "scopeKind": "class"}, {"name": "Tuple[bool,Dict[str,Any]] refresh_session(self, refresh_token: str)", "description": "Refreshes the user session using a refresh token.", "scope": "SupabaseService", "scopeKind": "class"}, {"name": "Tuple[bool,Dict[str,Any]] sign_out_user(self, access_token: str)", "description": "Signs out the current user session.", "scope": "SupabaseService", "scopeKind": "class"}, {"name": "Tuple[bool,Dict[str,Any]] reset_password(self, email: str)", "description": "Sends a password reset email to the user.", "scope": "SupabaseService", "scopeKind": "class"}, {"name": "Tuple[bool,Dict[str,Any]] update_user(self, access_token: str, updates: Dict[str, Any])", "description": "Updates user profile details with provided data.", "scope": "SupabaseService", "scopeKind": "class"}, {"name": "Tuple[bool,Dict[str,Any]] verify_email(self, token: str, email: str)", "description": "Verifies a user's email using OTP and updates user metadata with email verification status.", "scope": "SupabaseService", "scopeKind": "class"}], "calls": ["create_client", "self.supabase.auth.sign_up", "self.supabase.auth.sign_in_with_password", "self.supabase.auth.set_session", "self.supabase.auth.get_user", "self.supabase.auth.refresh_session", "self.supabase.auth.sign_out", "self.supabase.auth.reset_password_email", "self.supabase.auth.update", "self.supabase.auth.verify_otp", "self.admin_client.auth.admin.update_user_by_id"], "search-terms": ["SupabaseService", "sign_up_user", "sign_in_user", "verify_email", "auth", "client", "user_metadata", "session", "password_reset", "user_profile_update"], "state": 2, "file_id": 9, "knowledge_revision": 77, "git_revision": "6ad20ab69f3fbc943e47aacf4d49fc9b4afde8e7", "revision_history": [{"19": ""}, {"50": ""}, {"77": "6ad20ab69f3fbc943e47aacf4d49fc9b4afde8e7"}], "ctags": [{"_type": "tag", "name": "SupabaseService", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/services/supabase_service.py", "pattern": "/^class SupabaseService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/services/supabase_service.py", "pattern": "/^    def __init__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "get_user_by_token", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/services/supabase_service.py", "pattern": "/^    async def get_user_by_token(self, access_token: str) -> Tuple[bool, Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:Tuple[bool,Dict[str,Any]]", "kind": "member", "signature": "(self, access_token: str)", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/services/supabase_service.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "refresh_session", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/services/supabase_service.py", "pattern": "/^    async def refresh_session(self, refresh_token: str) -> Tuple[bool, Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:Tuple[bool,Dict[str,Any]]", "kind": "member", "signature": "(self, refresh_token: str)", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "reset_password", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/services/supabase_service.py", "pattern": "/^    async def reset_password(self, email: str) -> Tuple[bool, Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:Tuple[bool,Dict[str,Any]]", "kind": "member", "signature": "(self, email: str)", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "sign_in_user", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/services/supabase_service.py", "pattern": "/^    async def sign_in_user(self, email: str, password: str) -> Tuple[bool, Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:Tuple[bool,Dict[str,Any]]", "kind": "member", "signature": "(self, email: str, password: str)", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "sign_out_user", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/services/supabase_service.py", "pattern": "/^    async def sign_out_user(self, access_token: str) -> Tuple[bool, Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:Tuple[bool,Dict[str,Any]]", "kind": "member", "signature": "(self, access_token: str)", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "sign_up_user", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/services/supabase_service.py", "pattern": "/^    async def sign_up_user(self, email: str, password: str, user_metadata: Dict[str, Any]) -> Tu/", "language": "Python", "typeref": "typename:Tuple[bool,Dict[str,Any]]", "kind": "member", "signature": "(self, email: str, password: str, user_metadata: Dict[str, Any])", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "supabase_service", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/services/supabase_service.py", "pattern": "/^supabase_service = SupabaseService()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_user", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/services/supabase_service.py", "pattern": "/^    async def update_user(self, access_token: str, updates: Dict[str, Any]) -> Tuple[bool, Dict[/", "language": "Python", "typeref": "typename:Tuple[bool,Dict[str,Any]]", "kind": "member", "signature": "(self, access_token: str, updates: Dict[str, Any])", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "verify_email", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/services/supabase_service.py", "pattern": "/^    async def verify_email(self, token: str, email: str) -> Tuple[bool, Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:Tuple[bool,Dict[str,Any]]", "kind": "member", "signature": "(self, token: str, email: str)", "scope": "SupabaseService", "scopeKind": "class"}], "hash": "0e3f93919d8f68e63e59542e40578405", "format-version": 4, "code-base-name": "supabase_auth_backend", "filename": "supabase_auth_backend/src/services/supabase_service.py", "fields": [{"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "supabase_service = SupabaseService()", "scope": "", "scopeKind": "", "description": "unavailable"}]}
{"is_source_file": true, "format": "Python", "description": "This file defines API routes for user dashboard functionalities in a FastAPI application, including retrieving dashboard data, user activity, and security overview, utilizing dependencies, services, and models.", "external_files": ["src/models/auth_models", "src/services/session_service", "src/middleware/auth_middleware"], "external_methods": ["session_service.get_session_info", "calculate_security_score", "get_current_2fa_user"], "published": ["router"], "classes": [{"name": "DashboardData", "description": "Data structure representing the dashboard information for a user."}, {"name": "UserResponse", "description": "Data structure for user profile information to be sent in responses."}], "methods": [{"name": "JSONResponse get_dashboard_data(current_user: Dict[str, Any] = Depends(get_current_2fa_user))", "description": "Handles GET requests to retrieve comprehensive dashboard data, including user info, session info, and stats.", "scope": "", "scopeKind": ""}, {"name": "JSONResponse get_user_activity(current_user: Dict[str, Any] = Depends(get_current_2fa_user))", "description": "Handles GET requests to fetch recent user activity and session history.", "scope": "", "scopeKind": ""}, {"name": "JSONResponse get_security_overview(current_user: Dict[str, Any] = Depends(get_current_2fa_user))", "description": "Handles GET requests to provide security status and recommendations for the user.", "scope": "", "scopeKind": ""}, {"name": "int calculate_security_score(token_payload: Dict[str, Any], active_sessions: int)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["session_service.get_session_info", "calculate_security_score"], "search-terms": ["dashboard", "session_service", "auth_middleware", "get_dashboard_data", "get_user_activity", "get_security_overview", "fastapi.APIRouter", "session_info", "security_score"], "state": 2, "file_id": 19, "knowledge_revision": 39, "git_revision": "", "ctags": [{"_type": "tag", "name": "calculate_security_score", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/dashboard.py", "pattern": "/^def calculate_security_score(token_payload: Dict[str, Any], active_sessions: int) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "(token_payload: Dict[str, Any], active_sessions: int)"}, {"_type": "tag", "name": "get_dashboard_data", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/dashboard.py", "pattern": "/^async def get_dashboard_data(current_user: Dict[str, Any] = Depends(get_current_2fa_user)) -> JS/", "language": "Python", "typeref": "typename:JSONResponse", "kind": "function", "signature": "(current_user: Dict[str, Any] = Depends(get_current_2fa_user))"}, {"_type": "tag", "name": "get_security_overview", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/dashboard.py", "pattern": "/^async def get_security_overview(current_user: Dict[str, Any] = Depends(get_current_2fa_user)) ->/", "language": "Python", "typeref": "typename:JSONResponse", "kind": "function", "signature": "(current_user: Dict[str, Any] = Depends(get_current_2fa_user))"}, {"_type": "tag", "name": "get_user_activity", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/dashboard.py", "pattern": "/^async def get_user_activity(current_user: Dict[str, Any] = Depends(get_current_2fa_user)) -> JSO/", "language": "Python", "typeref": "typename:JSONResponse", "kind": "function", "signature": "(current_user: Dict[str, Any] = Depends(get_current_2fa_user))"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/dashboard.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/dashboard.py", "pattern": "/^router = APIRouter(prefix=\"\\/dashboard\", tags=[\"Dashboard\"])$/", "language": "Python", "kind": "variable"}], "hash": "109974baf6d87502205c936de57d2fba", "format-version": 4, "code-base-name": "supabase_auth_backend", "filename": "supabase_auth_backend/src/api/routes/dashboard.py", "fields": [{"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/dashboard\", tags=[\"Dashboard\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"39": ""}]}
{"is_source_file": true, "format": "Python", "description": "This is a FastAPI route implementation for the dashboard-related API endpoints in a user authentication platform. It includes endpoints for retrieving dashboard data, user activity, and security overview, utilizing dependencies, service calls, and models.", "external_files": ["src/models/auth_models", "src/services/session_service", "src.middleware.auth_middleware"], "external_methods": ["session_service.get_session_info", "get_current_2fa_user", "calculate_security_score"], "published": ["get_dashboard_data", "get_user_activity", "get_security_overview"], "classes": [{"name": "DashboardData", "description": "Data model for dashboard response containing user info, session info, and stats"}, {"name": "UserResponse", "description": "User profile response data"}], "methods": [{"name": "JSONResponse get_dashboard_data(current_user: Dict[str, Any] = Depends(get_current_2fa_user))", "description": "Handler for retrieving comprehensive dashboard data for the authenticated user", "scope": "", "scopeKind": ""}, {"name": "JSONResponse get_user_activity(current_user: Dict[str, Any] = Depends(get_current_2fa_user))", "description": "Handler for retrieving recent user activity and session history", "scope": "", "scopeKind": ""}, {"name": "JSONResponse get_security_overview(current_user: Dict[str, Any] = Depends(get_current_2fa_user))", "description": "Handler for retrieving security status and recommendations for the user", "scope": "", "scopeKind": ""}, {"name": "int calculate_security_score(token_payload: Dict[str, Any], active_sessions: int)", "description": "Utility function to compute a security score based on user attributes and active sessions", "scope": "", "scopeKind": ""}, {"name": "parse_dt(value)", "scope": "get_dashboard_data", "scopeKind": "function", "description": "unavailable"}], "calls": ["session_service.get_session_info", "get_current_2fa_user", "calculate_security_score"], "search-terms": ["fastapi", "dashboard", "user activity", "security overview", "auth middleware", "session service", "dashboard data"], "state": 2, "file_id": 19, "knowledge_revision": 80, "git_revision": "6ad20ab69f3fbc943e47aacf4d49fc9b4afde8e7", "revision_history": [{"39": ""}, {"80": "6ad20ab69f3fbc943e47aacf4d49fc9b4afde8e7"}], "ctags": [{"_type": "tag", "name": "calculate_security_score", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/dashboard.py", "pattern": "/^def calculate_security_score(token_payload: Dict[str, Any], active_sessions: int) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "(token_payload: Dict[str, Any], active_sessions: int)"}, {"_type": "tag", "name": "get_dashboard_data", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/dashboard.py", "pattern": "/^async def get_dashboard_data(current_user: Dict[str, Any] = Depends(get_current_2fa_user)) -> JS/", "language": "Python", "typeref": "typename:JSONResponse", "kind": "function", "signature": "(current_user: Dict[str, Any] = Depends(get_current_2fa_user))"}, {"_type": "tag", "name": "get_security_overview", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/dashboard.py", "pattern": "/^async def get_security_overview(current_user: Dict[str, Any] = Depends(get_current_2fa_user)) ->/", "language": "Python", "typeref": "typename:JSONResponse", "kind": "function", "signature": "(current_user: Dict[str, Any] = Depends(get_current_2fa_user))"}, {"_type": "tag", "name": "get_user_activity", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/dashboard.py", "pattern": "/^async def get_user_activity(current_user: Dict[str, Any] = Depends(get_current_2fa_user)) -> JSO/", "language": "Python", "typeref": "typename:JSONResponse", "kind": "function", "signature": "(current_user: Dict[str, Any] = Depends(get_current_2fa_user))"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/dashboard.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "parse_dt", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/dashboard.py", "pattern": "/^        def parse_dt(value):$/", "file": true, "language": "Python", "kind": "function", "signature": "(value)", "scope": "get_dashboard_data", "scopeKind": "function"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11899/supabase_auth_backend/src/api/routes/dashboard.py", "pattern": "/^router = APIRouter(prefix=\"\\/dashboard\", tags=[\"Dashboard\"])$/", "language": "Python", "kind": "variable"}], "hash": "37c0e4ea4ccb980965f35303036ec63c", "format-version": 4, "code-base-name": "supabase_auth_backend", "filename": "supabase_auth_backend/src/api/routes/dashboard.py", "fields": [{"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/dashboard\", tags=[\"Dashboard\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}